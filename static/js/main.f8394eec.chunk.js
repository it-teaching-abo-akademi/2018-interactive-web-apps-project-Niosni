(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(28)},17:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),l=n(10),r=n.n(l),c=(n(17),n(8)),i=n(3),s=n(4),u=n(6),m=n(5),d=n(7),f=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null)}}]),t}(o.Component),h=(n(27),n(21),function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={stocks:[{id:1,name:"NOK",unitValue:4.72,quantity:100,totalValue:47.2,selected:!1},{id:2,name:"MSFT",unitValue:82.78,quantity:5,totalValue:827.8,selected:!1}],portfolioValue:0,euros:!1},n.handleAddStock=function(e){alert("joo")},n.updatePrices=function(){n.setState({euros:!1});var e,t=Object(c.a)(n.state.stocks),o=0;t.forEach(function(a){console.log(a.name);var l="https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol="+a.name+"&interval=5min&apikey=N5W66DMTP80L3027";fetch(l).then(function(e){return e.json()}).then(function(l){if(l.Note)alert("Free API key limit reached! Wait a minute to refresh get updated prices.");else{var r=l["Meta Data"]["3. Last Refreshed"];e=l["Time Series (5min)"][r]["1. open"],a.unitValue=e,a.totalValue=e*a.quantity,n.setState({stocks:t}),console.log(a.unitValue),o=parseFloat(o)+parseFloat(a.totalValue),n.setState({portfolioValue:o})}})})},n.handleEuros=function(){if(!0===n.state.euros)alert("Already euros!");else{n.setState({euros:!0});var e;fetch("https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=N5W66DMTP80L3027").then(function(e){return e.json()}).then(function(t){if(t.Note)alert("exhange error");else{e=parseFloat(t["Realtime Currency Exchange Rate"]["5. Exchange Rate"]),console.log(JSON.stringify(t)),console.log(e);var o=Object(c.a)(n.state.stocks),a=n.state.portfolioValue;a=0,o.forEach(function(t){t.unitValue=t.unitValue*e,t.totalValue=t.totalValue*e,n.setState({stocks:o}),a+=t.totalValue,n.setState({portfolioValue:a})})}})}},n.handleRemoveStock=function(){var e=n.state.stocks.filter(function(e){return!0!==e.selected});n.setState({stocks:e})},n.selectStock=function(){console.log("ines")},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.stocks.map(function(e){return a.a.createElement(p,{key:e.id,data:e})});return a.a.createElement("div",{className:"container border m-3"},a.a.createElement("text",{type:"text",onClick:""},this.props.portfolio.name),a.a.createElement("button",{onClick:function(){return e.handleEuros()},className:"btn btn-primary btn-sm m-2"},"Show in \u20ac"),a.a.createElement("button",{onClick:function(){return e.updatePrices()},className:"btn btn-primary btn-sm m-2"},"Show in $"),a.a.createElement("button",{onClick:function(){return e.props.onRemovePortfolio(e.props.portfolio)},className:"btn btn-danger btn-sm m-2"},"Remove portfolio"),a.a.createElement("br",null),a.a.createElement("table",{className:"table"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Name"),a.a.createElement("td",null,"Unit Value"),a.a.createElement("td",null,"Quantity"),a.a.createElement("td",null,"Total Value"),a.a.createElement("td",null,"Select")),t)),a.a.createElement(f,{stocks:this.state.stocks,onAddStock:this.handleAddStock,onShowGraph:this.handleShowGraph,onRemoveStock:this.handleRemoveStock}),a.a.createElement("span",null,"Total value of ",this.props.portfolio.name," :"," ",this.state.portfolioValue),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){return e.handleAddStock(e.props.portfolio)},className:"btn btn-success btn-sm m-2"},"Add stock"),a.a.createElement("button",{onClick:function(){return e.props.onShowGraph(e.props.portfolio)},className:"btn btn-info btn-sm m-2"},"Show graph"),a.a.createElement("button",{onClick:function(){return e.handleRemoveStock()},className:"btn btn-danger btn-sm m-2"},"Remove selected stocks"))}}]),t}(o.Component)),p=function(e){return a.a.createElement("tr",null,a.a.createElement("td",null,e.data.name),a.a.createElement("td",null,e.data.unitValue),a.a.createElement("td",null,e.data.quantity),a.a.createElement("td",null,e.data.totalValue),a.a.createElement("td",null,a.a.createElement("input",{type:"checkbox",id:e.data.name})))},b=h,E=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onEuros,n=e.onDollars,o=e.onRemovePortfolio,l=e.onAddStock,r=e.onShowGraph,c=e.onRemoveStock,i=e.portfolios,s=e.onAddPortfolio;return a.a.createElement("div",null,a.a.createElement("button",{onClick:s,className:"btn btn-success btn-sm m-2"},"Add new portfolio"),i.map(function(e){return a.a.createElement(b,{key:e.id,portfolio:e,onEuros:t,onDollars:n,onRemovePortfolio:o,onAddStock:l,onShowGraph:r,onRemoveStock:c})}))}}]),t}(o.Component),k=(n(23),function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={portfolios:[{id:1,name:"Portfolio 1",currency:"EUR"}],newId:1},n.handleAddPortfolio=function(){if(n.state.portfolios.length<=10){var e=n.state.newId+1;n.setState({newId:e});var t="Portfolio "+e,o=[].concat(Object(c.a)(n.state.portfolios),[{id:e,name:t}]);n.setState({portfolios:o})}else alert("You can only have 10 portfolios!")},n.handleRemovePortfolio=function(e){var t=n.state.portfolios.filter(function(t){return t.id!==e.id});n.setState({portfolios:t})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("main",{className:"container"},a.a.createElement(E,{portfolios:this.state.portfolios,onAddPortfolio:this.handleAddPortfolio,onIncrement:this.handleIncrement,onDelete:this.handleDelete,onEuros:this.handleEuros,onDollars:this.handleDollars,onRemovePortfolio:this.handleRemovePortfolio})))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(25);r.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.f8394eec.chunk.js.map